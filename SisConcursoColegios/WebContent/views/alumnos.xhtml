<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="template.xhtml">
	<ui:define name="titulo">
            Registro Estudiantil
        </ui:define>
	<ui:define name="contenido">
		<center>
			<h1>REGISTRO DE ESTUDIANTES</h1>
		</center>
		<br />
		<h:form id="frmT">

			<b:panel title="Datos Generales" look="primary">

				<b:row>
					<b:column span="1">
						<h:outputLabel value="Nombre:"></h:outputLabel>
					</b:column>
					<b:column span="11">
						<b:inputText disabled="true" required="false"
							requiredMessage="El Dato Nombre es Requerido"
							value="#{alumnosBean.ins_nombre}">
							<!-- 							<f:validateRegex pattern="^[a-zA-Z]+$" /> -->
						</b:inputText>
					</b:column>
				</b:row>

				<b:row>
					<b:column span="1">
						<h:outputLabel value="Zona:"></h:outputLabel>
					</b:column>
					<b:column span="5">
						<b:inputText disabled="true" required="false"
							requiredMessage="El Dato Zona es Requerido"
							value="#{alumnosBean.ins_zona}">

						</b:inputText>
					</b:column>

					<b:column span="1">
						<h:outputLabel value="Provincia:"></h:outputLabel>
					</b:column>
					<b:column span="5">
						<b:inputText disabled="true" required="false"
							requiredMessage="el Dato Provincia es Requerido"
							value="#{alumnosBean.ins_provincia}">
							<!-- 							<f:validateRegex pattern="^[a-zA-Z]+$" /> -->
						</b:inputText>
					</b:column>
				</b:row>

				<b:row>
					<b:column span="1">
						<h:outputLabel value="Dirección:"></h:outputLabel>
					</b:column>
					<b:column span="11">
						<b:inputText disabled="true" required="false"
							requiredMessage="el Dato Dirección es Requerido"
							value="#{alumnosBean.ins_direccion}">
						</b:inputText>
					</b:column>
				</b:row>

				<b:row>
					<b:column span="1">
						<h:outputLabel value="Teléfono:"></h:outputLabel>
					</b:column>
					<b:column span="3">
						<b:inputText disabled="true" required="false"
							requiredMessage="el Dato Télefono es Requerido"
							value="#{alumnosBean.ins_telefono}">
						</b:inputText>
					</b:column>

					<b:column span="2">
						<h:outputLabel value="Correo Institucional:"></h:outputLabel>
					</b:column>
					<b:column span="3">
						<b:inputText disabled="true" required="false"
							requiredMessage="el Dato Correo Institucional es Requerido"
							value="#{alumnosBean.ins_correo}"></b:inputText>
					</b:column>

					<b:column span="1">
						<h:outputLabel value="Código AMIE:"></h:outputLabel>
					</b:column>
					<b:column span="2">
						<b:inputText disabled="true" required="false"
							requiredMessage="el Dato Código AMIE es Requerido"
							value="#{alumnosBean.ins_amie}"></b:inputText>
					</b:column>
				</b:row>
			</b:panel>

			<b:tabView activeIndex="0">

				<b:tab title="Datos de los Alumnos">
					<b:panel look="primary">
						<b:row>
							<b:column span="1">
								<h:outputLabel value="Nombres:"></h:outputLabel>
							</b:column>
							<b:column span="5">
								<b:inputText disabled="false" required="false"
									requiredMessage="el Dato Nombres del Estudiante es Requerido"
									validatorMessage="Ingrese solo Letras en el Nombre"
									value="#{alumnosBean.est_nombres}">
									<f:validateRegex pattern="^[ÑñáéíóúÁÉÍÓÚa-zA-Z| ]+$" />
								</b:inputText>
							</b:column>

							<b:column span="1">
								<h:outputLabel value="Apellidos:"></h:outputLabel>
							</b:column>
							<b:column span="5">
								<b:inputText disabled="false" required="false"
									requiredMessage="el Dato Apellidos del Estudiante es Requerido"
									validatorMessage="Ingrese solo Letras en el Apellido"
									value="#{alumnosBean.est_apellidos}">
									<f:validateRegex pattern="^[ÑñáéíóúÁÉÍÓÚa-zA-Z| ]+$" />
								</b:inputText>
							</b:column>
						</b:row>

						<b:row>
							<b:column span="1">
								<h:outputLabel value="Cédula:"></h:outputLabel>
							</b:column>
							<b:column span="3">
								<b:inputText maxlength="10" disabled="false" required="false"
									requiredMessage="el Dato Cédula del Estudiante es Requerido"
									validatorMessage="Ingrese solo Números en la Cédula del Estudiante"
									value="#{alumnosBean.est_cedula}">
									<f:validateRegex pattern="^[0-9]+$" />
								</b:inputText>
							</b:column>

							<b:column span="1">
								<h:outputLabel value="E-mail:"></h:outputLabel>
							</b:column>
							<b:column span="3">
								<b:inputText disabled="false" required="false"
									requiredMessage="el Dato Correo del Estudiante es Requerido"
									validatorMessage="Invalido el formato del E-mail del Estudiante"
									value="#{alumnosBean.est_correo}">
									<f:validateRegex
										pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
								</b:inputText>
							</b:column>

							<b:column span="1">
								<h:outputLabel value="Teléfono:"></h:outputLabel>
							</b:column>
							<b:column span="3">
								<b:inputText maxlength="12" disabled="false" required="false"
									requiredMessage="el Dato Télefono del Estudiante es Requerido"
									validatorMessage="Ingrese solo Números en el Teléfono del Estudiante"
									value="#{alumnosBean.est_telefono}">
									<f:validateRegex pattern="^[0-9]+$" />
								</b:inputText>
							</b:column>
						</b:row>
						<b:row>
							<center>
								<b:column offset="3" span="2">
									<h:outputLabel value="Área a Participar:"></h:outputLabel>
								</b:column>
								<b:column span="4">
									<b:selectOneMenu value="#{alumnosBean.est_area}">
										<f:selectItem itemLabel="--Seleccione--" itemValue="-1" />
										<f:selectItems value="#{alumnosBean.listItemsAreas}" />
									</b:selectOneMenu>
								</b:column>
							</center>
						</b:row>
						<b:row>
							<center>
								<b:commandButton value="Registrar"
									action="#{alumnosBean.crearEstudiante}" update="frmT"
									look="info" onclick="PF('statusDialog').show()"
									oncomplete="PF('statusDialog').hide()">
								</b:commandButton>
							</center>
						</b:row>

						<p:messages closable="true"></p:messages>
						<hr />

						<b:row>
							<p:dataTable id="dti" value="#{alumnosBean.listEstudiantesXIns}"
								reflow="true" var="est" rows="8" emptyMessage="Sin Datos"
								paginator="true"
								paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

								<p:column headerText="OPCIONES" width="100">
									<p:commandButton id="btnE" icon="ui-icon-closethick"
										action="#{alumnosBean.eliminarEstudiante(est)}" update="frmT">
										<p:confirm header="Confirmación"
											message="Seguro Quiere Eliminar al Estudiante?"
											icon="ui-icon-alert" />
									</p:commandButton>
								</p:column>

								<p:column headerText="CÉDULA" width="100">
									<h:outputText value="#{est.estCedula}"></h:outputText>
								</p:column>

								<p:column headerText="NOMBRES COMPLETOS" width="300">
									<h:outputText value="#{est.estNombres} #{est.estApellidos}"></h:outputText>
								</p:column>

								<p:column headerText="CORREO" width="150">
									<h:outputText value="#{est.estCorreo}"></h:outputText>
								</p:column>

								<p:column headerText="TELÉFONO" width="100">
									<h:outputText value="#{est.estTelefono}"></h:outputText>
								</p:column>

								<p:column headerText="ÁREA A PARTICIPAR" width="100">
									<h:outputText value="#{est.estArea}"></h:outputText>
								</p:column>

							</p:dataTable>

							<p:confirmDialog global="true" showEffect="fade"
								hideEffect="fade">
								<p:commandButton value="Si" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
								<p:commandButton value="No" type="button"
									styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
							</p:confirmDialog>
						</b:row>
					</b:panel>

				</b:tab>

			</b:tabView>
		</h:form>

		<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false">
			<p:graphicImage value="../resources/img/cargando.gif" />
		</p:dialog>




	</ui:define>
</ui:composition>

</html>
